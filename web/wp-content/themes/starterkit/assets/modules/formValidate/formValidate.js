const FormValidate=function(a,b){const c=a.querySelectorAll(":required"),d=a.getAttribute("data-mandatory");let e=!0,f=!0;this.reset=()=>{f=!0;for(let a of c)a.classList.remove("error"),a.parentNode.querySelector(".field-error-msg").innerHTML=""};const g=()=>{if(!f){e=!0;for(let b of c){const c=b.parentNode.querySelector(".field-error-msg"),f=b.dataset.typemismatch,g=b.dataset.patternmismatch,h=b.validity.typeMismatch,i=b.validity.tooShort,j=b.validity.tooLong,k=b.validity.stepMismatch,l=b.validity.patternMismatch,m=b.validity.valueMissing;if(!b.checkValidity()){b.classList.add("error");var a="";(h||k||i||j)&&f&&(a=f),l&&g&&(a=g),m&&d&&(a=d),b.setCustomValidity(a),c.innerHTML=b.validationMessage,e=!1}else b.classList.remove("error"),c.innerHTML=""}return e}};for(let d of c){if(!d.parentNode.querySelector(".field-error-msg")){const a=document.createElement("div");a.className="field-error-msg",a.id=d.getAttribute("aria-describedby"),d.parentNode.appendChild(a)}d.addEventListener("input",()=>g()),d.addEventListener("change",()=>g())}a.onsubmit=a=>{a.preventDefault(),f=!1,g()&&b()}};export default FormValidate;